niger_river_expedition = {
	is_shown = {
		NOT = { has_global_variable = niger_river_explored }
		NOT = { has_variable = on_expedition }
		OR = {
			is_ai = no
			NOT = { has_variable = ai_expedition_cooldown }
		}	
		institution_investment_level = {
			institution = institution_colonial_affairs
			value >= 3
		}
	}

	possible = {
		is_at_war = no
		has_interest_marker_in_region = region_niger
		any_scope_character = {
			OR = {
				has_role = general
				has_role = admiral
			}
			count >= 3
		}
		institution_investment_level = {
			institution = institution_colonial_affairs
			value >= 3
		}
		calc_true_if = {
			amount >= 3
			owns_entire_state_region = STATE_NIGERIA
			owns_entire_state_region = STATE_NIGER_DELTA
			owns_entire_state_region = STATE_YORUBA_STATES
			owns_entire_state_region = STATE_OUTER_HAUSALAND
			owns_entire_state_region = STATE_HAUSALAND
			owns_entire_state_region = STATE_EAST_HAUSALAND
			owns_entire_state_region = STATE_BORNU
			owns_entire_state_region = STATE_BENIN
			owns_entire_state_region = STATE_TOGO
			owns_entire_state_region = STATE_DAHOMEY
			owns_entire_state_region = STATE_NIGER
			owns_entire_state_region = STATE_CHAD
			owns_entire_state_region = STATE_NORTH_CAMEROON
			owns_entire_state_region = STATE_WADDAI
			owns_entire_state_region = STATE_NIGERIA
		}
	}

	when_taken = {
		if = {
			limit = {
				is_player = yes
			}
			trigger_event = { id = expedition_events.1 popup = yes }
			set_variable = {
				name = on_expedition
				value = yes
			}
		}
		else = {
			set_variable = AI_EXPEDITION_NIGER
			ai_expedition_simulator_start = yes
		}
		hidden_effect = {
			set_variable = {
				name = ai_expedition_cooldown
				value = yes
				days = 1825
			}		
		}			
	}

	ai_chance = {
		value = 0
		if = {
			limit = {
				weekly_net_fixed_income > money_amount_multiplier_medium
				gold_reserves > 0
			}
			add = 1
		}
		if = {
			limit = {
				has_strategy = ai_strategy_armed_isolationism
			}
			multiply = 0
		}
		if = {
			limit = {
				OR = {
					is_diplomatic_play_committed_participant = yes
					is_at_war = yes
				}
			}
			multiply = 0
		}
	}
}