# Root = State
on_monthly_pulse_state = {
	on_actions = {
		skyscraper_on_action
	}
}

skyscraper_on_action = {
    effect = {
        if = {
            limit = {
                owner = { has_technology_researched = stock_exchange}
            }
            if = {
                limit = {
                    sg:services = {
                        state_goods_delta > 100
                    }
                }
                create_building = {
                    building = building_skyscraper
                    level = 1
                }
            }
            if = {
                limit = {
                    has_building = building_skyscraper
                    or = {
                        sg:services = {
                            state_goods_delta < 0
                        }
                    }
                }
                remove_building = building_skyscraper
            }
        }
    }
}